<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="../dist/5.0/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="../dist/5.0/css/docs.css" rel="stylesheet">
    <link href="../dist/5.0/bootstrap-icons/bootstrap-icons-1.2.2/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism.css">
    <link rel="icon" type="image/png"  href="../img/favicon.png">
    <title>PHP TP04</title>

</head>
<body>

<!--        navbar-->
<header class="navbar navbar-expand-md navbar-dark bd-navbar bg-success">
    <nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation">
        <div class="collapse navbar-collapse" id="bdNavbar">
            <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-md-0">
                <li class="nav-item">
                    <a class="nav-link " href="tp01htmlPhpNew.html">TP PHP</a>

                <li class="nav-item">
                    <a class="nav-link " href="index.html">Documentation</a>

            </ul>
        </div>
    </nav>
</header>
<nav class="bd-subnavbar py-2" aria-label="Secondary navigation"></nav>
<div class="container-xxl my-md-4 bd-layout">
    <!--    Menu Gauche-->
    <aside class="bd-sidebar">
        <nav class="collapse bd-links" id="bd-docs-nav" aria-label="Docs navigation">
            <ul class="list-unstyled mb-0 py-3 pt-md-1">
               <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start justify-content-start" data-bs-toggle="collapse" data-bs-target="#php01Gintroduction" aria-expanded="false">
                        I - Introduction au développement Web
                    </button>
                    <div class="collapse" id="php01Gintroduction">
                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="php01Gintroduction.html#foncweb">
                                    Principes de fonctionnement du Web
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start"
                            data-bs-toggle="collapse" data-bs-target="#php02Gbaseslg" aria-expanded="false">
                        II - Les bases du langage
                    </button>
                    <div class="collapse" id="php02Gbaseslg">

                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li><a class="d-inline-flex align-items-center rounded active"
                                   href="php02Gbaseslg.html">Les bases du langage
                            </a></li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start"
                            data-bs-toggle="collapse" data-bs-target="#php031ProgPhp_Variables" aria-expanded="false">
                        III - Programmer avec PHP
                    </button>
                    <div class="collapse" id="php031ProgPhp_Variables">

                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php031ProgPhp_Variables.html">A - Les variables
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php032ProgPhp_Tests.html">B - Tests et conditions
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php033ProgPhp_Tableaux.html">C - Les tableaux
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php034ProgPhp_Boucles.html">D - Les boucles
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php035ProgPhp_Fonctions.html"> E - Les fonctions
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php036ProgPhp_Raccourcis.html"> F - Les raccourcis
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start"
                            data-bs-toggle="collapse" data-bs-target="#php041Transmission" aria-expanded="false">
                        IV - Transmettre des données entre des pages
                    </button>
                    <div class="collapse" id="php041Transmission">

                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php041Transmission.html">A - Notion de variable superglobale
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php042Transmission.html">B - Notion de formulaire
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php043Transmission.html">C - $_GET et la transmission via l'URL
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php044Transmission.html">D - $_POST et la transmission via un formulaire
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php045Transmission.html">E - $_SESSION et la transmission via la session
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php046Transmission.html">F - La transmission de données et sécurité
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start"
                            data-bs-toggle="collapse" data-bs-target="#php05AccesSGBD_Introduction"
                            aria-expanded="false">
                        V - Accéder à une base de données
                    </button>
                    <div class="collapse" id="php05AccesSGBD_Introduction">

                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_Introduction.html"> A - Introduction
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_Connexion.html">B - Connexion à la base de données
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_RappelSQL.html">C - Rappel SQL avec SELECT
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_RqtSimple.html">D - query - Requêtes simples
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_RqtParam.html">E - prepare et execute - Requêtes avec paramètres
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_RqtLMD.html">F - Le cas particulier avec INSERT, UPDATE,
                                    DELETE et exec</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1 active">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start justify-content-start"
                            data-bs-toggle="collapse" data-bs-target="#phpTP" aria-expanded="true" aria-current="true">
                        TP - les bases du PHP
                    </button>
                    <div class="collapse show" id="phpTP">
                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="tp01htmlPhpNew.html">
                                    TP01 - Affichage, déclaration de variables, tableaux
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="tp02htmlPhpNew.html">
                                    TP02 - Tableaux, Boucles, formulaires
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="tp03htmlPhpNew.html">
                                    TP03 - Tableaux Associatifs, Boucles foreach
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded active" href="tp03htmlPhpNew.html">
                                    TP04 - Pattern MVC

                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="tp05htmlPhpNew.html">
                                    TP05 - Pattern MVC, Session

                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="tp06htmlPhpNew.html">
                                    TP06 - Pattern MVC, connexion à un SGBD
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start justify-content-start"
                            data-bs-toggle="collapse" data-bs-target="#phpEx" aria-expanded="false">
                        Exercices sur le MVC
                    </button>
                    <div class="collapse" id="phpEx">
                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="ex01htmlPhp.html">
                                    Ex01 - Modifier un site en fonction du pattern MVC
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="ex02htmlPhp.html">
                                    Ex02 - Création d'un contrôleur
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </nav>
    </aside>

    <main class="bd-main order-1">
        <!--            Titre-->
        <div class="bd-intro ps-lg-4">
            <div class="d-md-flex flex-md-row align-items-center justify-content-between">
                <h1 class="bd-title" id="content">TP04 - Pattern MVC (modèle, vue, contrôleur) (4/6)</h1>
            </div>
            <div class="bd-callout bd-callout-info">
                <h4 class="text-info">Objectif</h4>
                <p>Nous allons utiliser le modèle MVC pour rendre notre code plus flexible. Nous pourrons aussi mettre en place des fonctionnalités plus complexes.
                </p>
            </div>
            <hr class="my-4">
        </div>
        <!--            Menu droite-->
        <div class="bd-toc mt-4 mb-5 my-md-0 ps-xl-3 mb-lg-5 text-muted">
            <strong class="d-block h6 my-2 pb-2 border-bottom">Dans cette page</strong>
            <nav id="TableOfContents">
                <ul>
                    <li><a href="#prerequis">Prérequis</a></li>
                    <li><a href="#ex1">Exercice 1 - La reformulation et la modification des pages existantes</a></li>
                    <li><a href="#ex2">Exercice 2 - Les liaisons entre les pages</a></li>
                    <ul>
                        <li><a href="#titrea">A - Création de la page <code>index.php</code></a></li>
                        <li><a href="#titreb">B - Modification de la page <code>v_construction.php</code></a></li>
                        <li><a href="#titrec">C - Création de la page <code>c_controleur.php</code></a></li>
                    </ul>
                    <li><a href="#ex3">Exercice 3 - Traduire le site en anglais</a></li>
                </ul>
            </nav>
        </div>
        <!--            Docs-->
        <div class="bd-content ps-lg-4">
            <section>
                <div class="bd-callout bd-callout-danger">
                    <h4 class="text-danger">Attention</h4>
                    <p>Ne remplissez pas le rapport sur votre navigateur , vous ne pourrez pas le sauvegarder.</p>
                    <p>Téléchargez le sur votre disque dur !</p>
                </div>
                <div class="list-group-flush">
                    <a class="list-group-item list-group-item-action " href="../download/phpTP03rapport.pdf"
                       target="_blank"><i class="bi bi-cloud-download-fill"></i> Format du rapport à télécharger</a>
                    <a class="list-group-item list-group-item-action "
                       href="https://tutowebdesign.com/bien-demarrer-bootstrap-4.php" target="_blank"><i
                            class="bi bi-patch-question"></i> Tuto Bootstrap 4 (rien de pertinent sur bootstrap 5 en ce
                        moment) </a>
                    <a class="list-group-item list-group-item-action " href="../download/AideMemoirePHP.pdf"
                       target="_blank"><i class="bi bi-patch-question"></i> Aide mémoire PHP</a>
                    <a class="list-group-item list-group-item-action "
                       href="http://boraklerouge.free.fr/PHP-AideMemoire/" target="_blank"><i
                            class="bi bi-patch-question"></i> Aide mémoire PHP</a>
                    <a class="list-group-item list-group-item-action "
                       href="php033ProgPhp_Tableaux.html#tableauAssociatif" target="_blank"><i
                            class="bi bi-patch-question"></i> Cours sur les tableaux PHP</a>
                </div>
            </section>
            <h2 id="prerequis">Prérequis</h2>
            <section>
                <h4 class="text-info">Avant de commencer</h4>
                <ul class="list-group-flush">
                    <li class="list-group-item list-group-item-action "><i class="bi bi-folder"></i> Créez un répertoire
                        TP04
                    </li>
                </ul>
                <div class="bd-callout bd-callout-danger">
                    <h4 class="text-danger">Attention</h4>
                    <p>Vérifiez bien que vous êtes en UTF8.</p>
                </div>
            </section>
            <h2 id="ex1">Exercice 1 - La reformulation et la modification des pages existantes</h2>
            <section>
                <p>L'ensemble de tous les fichiers se découpent selon cette organisation, nous utiliserons les préfixes suivants, pour réorganiser notre code :</p>
                <ol>
                    <li>m_ pour modèle (les données),</li>
                    <li>v_ pour vue (les interfaces),</li>
                    <li>c_ pour contrôleur (l'affichage des interfaces et l'appel des données).</li>
                </ol>
                <p>Comme notre fichier <code>TPModel.php</code> contient des données, c'est un modèle, nous le nommerons <code>m_model.php</code>.
                Nous allons toutefois changer les valeurs du tableau associatif, car le routage sera un petit peu différent.</p>
                <pre><code class="language-php" data-lang="php">&lt;?php
//Déclaration de variables
$lang = array();
$menu01 = ['accueil' => 'accueil',
    'nos produits' => 'produits',
    'nous contacter' => 'contact',
    'plan d\'accès' => 'acces',
    'qui sommes nous ?' => 'nous',
    'langage' => 'Français'];
$menu02 = ['home', 'products', 'contacts us', 'find Us', 'about us', 'language'];
$form01 = 'Valider';
$form02 = 'Sign in';
$lang = $menu01;</code></pre>
                <p>Comme le fichier <code>TPEntete.php</code> contient l'en-tête HTML, qui sert à l'affichage, nous le nommerons <code>v_entete.php</code> : </p>
                <pre><code class="language-php" data-lang="php">&lt!doctype html&gt
&lthead lang="fr"&gt
    &lthead&gt
        &lt!-- Required meta tags --&gt
        &ltmeta charset="utf-8"/&gt
        &ltmeta name="viewport" content="width=device-width, initial-scale=1"&gt

        &lt!-- Bootstrap CSS --&gt
        &ltlink href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
              crossorigin="anonymous"&gt

        &lttitle&gt&lt?= basename(__File__) ?&gt&lt/title&gt
    &lt/head&gt
&ltbody&gt</code></pre>
                <p>la situation est la même pour <code>TPNav.php</code>. Nous le nommerons <code>v_nav.php</code>.
                Notez que la structure des liens a changé, l'URL s'écrit maintenant comme expliquée dans cette
                    <a href="php043Transmission.html#transmissionURL">partie</a>.</p>
                <pre><code class="language-php" data-lang="php">&ltnav class="navbar navbar-expand-lg navbar-light bg-light"&gt
    &ltul class="navbar-nav"&gt
        &lt?php foreach ($lang as $cle =&gt $valeur): ?&gt
            &ltli  class="nav-item"&gt
                &lta class="nav-link" href="index.php?uc=controleur&action=&lt?=$valeur;?&gt"&gt&lt?php echo ucfirst($cle);?&gt&lt/a&gt
            &lt/li&gt
        &lt?php endforeach;//fin de la boucle ?&gt
    &lt/ul&gt
&lt/nav&gt
&ltnav class="bd-subnavbar py-2" aria-label="Secondary navigation"&gt&lt/nav&gt</code></pre>
                <p>Enfin, pour <code>TPPied.php</code>, nous le nommerons <code>v_pied.php</code></p>
                <pre><code class="language-php" data-lang="php">&lt!-- Option 1: Bootstrap Bundle with Popper --&gt
&ltscript src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"&gt&lt/script&gt
&lt/body&gt
&lt/html&gt</code></pre>
                <p>Il existe encore deux vues :
                    <br><code>TPAccueil.php</code> devient <code>v_accueil.php</code>, <strong>vous noterez néanmoins la disparition des</strong>
                    <code>include</code>  </p>
                <pre><code class="language-php" data-lang="php">&ltdiv class="container"&gt
    &ltdiv class="bg-light row align-items-center"&gt
        &ltdiv class="col"&gt
        &lth1 class="display-4"&gtCeci est la page d'accueil!&lt/h1&gt
        &ltp class="lead"&gtVous allez suivre les TP pour faire un petit site php&lt/p&gt
        &lthr class="my-4"&gt
        &ltp&gtNous allons utiliser différentes techniques pour améliorer la programmation de ce site.&lt/p&gt
        &lta class="btn btn-primary btn-lg" href="#" role="button"&gtLearn more&lt/a&gt
        &lt/div&gt
    &lt/div&gt
&lt/div&gt</code></pre>
                <p><code>TPConstruction.php</code> va devenir, <code>v_construction.php</code>. <strong>vous noterez aussi la disparition des</strong>
                    <code>include</code></p>
                <pre><code class="language-php" data-lang="php">&ltdiv class="container"&gt
        &ltdiv class="bg-light row align-items-center"&gt
            &ltdiv class="col"&gt
                &lth1 class="display-4"&gtPage en construction!&lt/h1&gt
            &lt/div&gt
        &lt/div&gt
    &lt/div&gt</code></pre>
                <div class="bd-callout bd-callout-info bg-secondary text-white">
                    <h4>Résultat</h4>
                    <p>Pour l'instant il n'est pas possible d'obtenir un résultat global, car aucun fichiers n'est lié entre eux.</p>
                </div>
            </section>
            <h2 id="ex2">Exercice 2 - Les liaisons entre les pages</h2>
            <section>
                <h3 id="titrea">A - Création de la page <code>index.php</code></h3>
                <article>
                    <p>Le serveur que vous utilisez, apache ou nginx, est paramétré pour lire d'abord les fichiers <code>index</code> avec les extensions soit html, soit php.
                    Voila pourquoi notre fichier s'appelle index.php car ce sera le premier fichier lu automatiquement par le serveur.
                    <br>Voici le code lié à ce fichier :</p>
                    <pre><code class="language-php" data-lang="php">&lt?php
include('m_model.php');
include('v_entete.php');

// Gestion de la langue
$lang = $menu01;
include('v_nav.php');

//Gestion de la route
if(!isset($_REQUEST['uc']))
    $uc = 'accueil';
else
    $uc = $_REQUEST['uc'];
switch($uc)
{
    case 'accueil':
        {
            include('v_accueil.php');break;}

    default :
        {
            include('c_controleur.php');break;}
}
include('v_Pied.php') ;</code></pre>
                    <p>Ce fichier va lire l'URL du site. Nous allons donner un format particulier à cette url comme cela
                        est expliqué dans cette <a href="php043Transmission.html#transmissionURL">partie.</a>
                    <br>Au lancement de la page, il n'y a aucune variable <code>uc</code> ou <code>action</code> dans l'URL.
                    la variable globale <code>REQUEST</code> est vide. Le système affecte à uc la valeur accueil et va ouvrir
                    la page <code>v_accueil.php</code></p>

                    <div class="bd-callout bd-callout-info bg-secondary text-white">
                        <h4>Résultat</h4>
                        <p>
                            Lorsque vous lancez le site pour la première fois, vous obtenez la page suivante :
                        </p>
                        <img src="images/TP/pageAccueil.PNG" class="img-fluid" alt="menuAccueil">
                    </div>
                    <div class="bd-callout bd-callout-warning bg-warning">
                        <h4><i class="bi bi-cone-striped"></i> En vous aidant de la documentation php répondez aux questions suivantes :</h4>

                        <ol>
                        <li>Quels sont les fichiers qui sont lancés au moment de l'appel d'index.php ?</li>
                            <li>Que signifie l'instruction <code>include</code> ?</li>
                            <li>Par quoi peut elle être aussi remplacée ?</li>
                    </ol>
                    </div>
                </article>
                <h3 id="titreb">B - Modification de la page <code>v_construction.php</code></h3>
                <article>
                    <p>Vous allez modifier la page <code>v_construction.php</code> afin de l'adapter à tous les messages d'erreur que le site pourra rencontrer.
                    Vous allez remplacer le texte par une variable <code>message</code> qui sera instanciée par le contrôleur.
                    Vous obtenez :</p>
                    <pre><code class="language-php" data-lang="php">&ltdiv class="container"&gt
    &ltdiv class="bg-light row align-items-center"&gt
        &ltdiv class="col"&gt
            &lth1 class="display-4"&gt&lt?= $message;?&gt&lt/h1&gt
        &lt/div&gt
    &lt/div&gt
&lt/div&gt</code></pre>
                </article>
                <h3 id="titrec">C - Création de la page <code>c_controleur.php</code></h3>
                <article>
                    <p>Cette page va faire la liaison entre les pages et les données. Lorsque vous cliquez sur un lien
                    vous voyez apparaitre une valeur pour les deux variables <code>uc</code> et <code>action</code>.
                    Comme nous n'avons qu'un contrôleur, la valeur de uc sera toujours la même. La valeur de action affectera
                    l'ouverture de la page dans le contrôleur. Voici son code :</p>
                    <pre><code class="language-php" data-lang="php">&lt;?php
$action = $_REQUEST['action'];
switch($action)
{
    case 'accueil':
        {
            include('v_accueil.php');
            break;
        }
    case 'produits' :
        {
            $message='Page en construction';
            include('v_construction.php');
            break;
        }
    case 'contact' :
        {
            include('v_form.php');
            break;
        }
    case 'acces' :
        {
            $message='Page en construction';
            include('v_construction.php');
            break;
        }
    case 'nous' :
        {
            $message='Page en construction';
            include('v_construction.php');
            break;
        }
    case 'reponse' :
        {
            include('v_reponse.php');
            break;
        }
    default :
        {
            $message='Erreur 404 !';
            include('v_construction.php');
            break;
        }
}</code></pre>
                    <p>Cette application ne fait appel au donnée que dans l'index.</p>
                    <div class="bd-callout bd-callout-info bg-secondary text-white">
                        <h4>Résultat</h4>
                        <p>
                            Lorsque vous lancez l'application vous devriez avoir les mêmes résultats que précédemment.
                        </p>
                    </div>
                    <div class="bd-callout bd-callout-warning bg-warning">
                        <h4><i class="bi bi-cone-striped"></i> En vous aidant de la documentation php répondez aux questions suivantes :</h4>
                        <ol>
                        <li>Crées ou renommer les pages correspondant à <code>v_form</code>, <code>v_reponse</code>.</li>
                        <li>Testez ces pages en cliquant sur "Nous contacter" puis "Valider".</li>
                    </ol>
                    </div>
                </article>
            </section>
            <h2 id="ex3">Exercice 3 - Traduire le site en anglais</h2>
            <section>
                <p>A l'aide de ce que nous avons fait dans le TP02, nous allons établir une version anglaise de ce site.
                    Il faut tout d'abord modifier le fichier <code>v_nav.php</code> pour mettre le formulaire de choix.</p>
                <pre><code class="language-php" data-lang="php">&ltnav class="navbar navbar-expand-lg navbar-light bg-light"&gt
    &ltul class="navbar-nav"&gt
        &lt?php foreach (array_slice($lang,0,count($lang)-1) as $cle =&gt $valeur): ?&gt
            &ltli  class="nav-item"&gt
                &lta class="nav-link" href="index.php?uc=controleur&action=&lt?=$valeur;?&gt"&gt&lt?php echo ucfirst($cle);?&gt&lt/a&gt
            &lt/li&gt
        &lt?php endforeach;//fin de la boucle ?&gt
    &lt/ul&gt
    &ltform class="d-flex" method="post" action="index.php?uc=controleur&action=accueil"&gt
        &ltselect class="form-select" aria-label="Default select example" name="langue"&gt
            &ltoption selected&gt&lt?= $lang['langage'];?&gt&lt/option&gt
            &ltoption value="1"&gtFrançais&lt/option&gt
            &ltoption value="2"&gtAnglais&lt/option&gt
        &lt/select&gt
        &ltbutton class="btn btn-outline-success" type="submit"&gtSearch&lt/button&gt
    &lt/form&gt
&lt/nav&gt
&ltnav class="bd-subnavbar py-2" aria-label="Secondary navigation"&gt&lt/nav&gt</code></pre>
                   <p>Vous remarquerez que l'action du formulaire a changée. L'url pointe sur l'action 'accueil' du contrôleur.
                   Mais pour connaitre le tableau à modifier il faut connaitre la réponse du formulaire. Elle se fera dans le fichier
                       <code>index</code>. Modifiez l'index de la façon suivante :</p>
                <pre><code class="language-php" data-lang="php">&lt?php
include('m_model.php');
include('v_entete.php');

//Gestion de la langue
if (!isset($_REQUEST['langue'])) {
    $lang = array_slice($menu01,0,count($menu01)-1);
    $selected = $menu01['langage'];
} else
{
    if ($_REQUEST['langue'] === "1") {
    $lang = array_slice($menu01,0,count($menu01)-1);
    $selected = 'Français';
} else {
    $lang = array_slice($menu02,0,count($menu02)-1);
    $selected = 'Anglais';
}}  ;
include('v_nav.php');

//Gestion de la route
if(!isset($_REQUEST['uc']))
    $uc = 'accueil';
else
    $uc = $_REQUEST['uc'];
switch($uc)
{
    case 'accueil':
    {
        include('v_accueil.php');break;}

    default :
    {
        include('c_controleur.php');break;}
}
include('v_Pied.php') ;</code></pre>
                <p>Vous avez rajouté ici, la gestion de la langue. Mais pour que cela fonctionne, il faut que la page d'accueil soit en anglais.
                Vous allez créer une page <code>v_welcome.php</code> dans laquelle vous mettrez le code suivant :</p>
                <pre><code class="language-html" data-lang="html">&ltdiv class="container"&gt
    &ltdiv class="bg-light row align-items-center"&gt
        &ltdiv class="col"&gt
            &lth1 class="display-4"&gtWelcome&lt/h1&gt
            &ltp class="lead"&gtYou will follow the practicals to make a small php web site&lt/p&gt
            &lthr class="my-4"&gt
            &ltp&gtWe will use different techniques to improve the programming of this web site.&lt/p&gt
            &lta class="btn btn-primary btn-lg" href="#" role="button"&gtLearn more&lt/a&gt
        &lt/div&gt
    &lt/div&gt
&lt/div&gt</code></pre>
                <p>Il faut enfin dire au contrôleur de faire le changement de page en fonction de la langue.</p>
                <pre><code class="language-php" data-lang="php">case 'accueil':
    {
        if($selected=='Anglais')
        {
            // Affichage de la page anglaise si Anglais est choisi
            include('v_welcome.php');
        }
        else{
            // Affichage de la page française dans tous les autres cas        
            include('v_accueil.php');
        }

        break;
    }</code></pre>
                <div class="bd-callout bd-callout-info bg-secondary text-white">
                    <h4>Résultat</h4>
                    <p>
                        Lorsque vous choisissez la langue anglaise, vous obtenez la page suivante :
                    </p>
                    <img src="images/TP/pageWelcoml.PNG" class="img-fluid" alt="menuAccueil">
                </div>
                <div class="bd-callout bd-callout-warning bg-warning">
                    <h4><i class="bi bi-cone-striped"></i> En vous aidant de la documentation php répondez aux questions suivantes :</h4>
                    <ol>
                    <li>Que fait la fonction <code>array_slice</code> dans la page <code>v_nave</code> ?</li>
                    <li>Pourquoi avez vous <code>count($lang)-1</code> en troisième paramètre dans la fonction ?</li>
                    <li>Quel est le chemin obtenus si vous cliquez sur <code>Products</code>,</li>
                    <li>Pourquoi le menu en français apparait après avoir cliqué sur <code>Products</code>,</li>
                    <li>Modifier les pages pour les avoir en anglais.</li>
                    <li>Modifiez le contrôleur pour qu'il choisisse les bonnes pages.</li>
                    <li>Cas particulier pour le formulaire :</li>
                </ol>
                </div>
                <h4>Pour le formulaire:</h4>
                <P><strong>a</strong> - Modifiez les variables form01 et form02, sous forme de tableau associatif, de façon à vous conformer au tableau suivant :</p>
                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <table class="table">
                            <thead>
                            <tr>
                                <th>Indice</th>
                                <th>Français</th>
                                <th>Anglais</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>nom</td>
                                <td>Nom</td>
                                <td>Name</td>
                            </tr>
                            <tr>
                                <td>prenom</td>
                                <td>Prénom</td>
                                <td>Forename</td>
                            </tr>
                            <tr>
                                <td>email</td>
                                <td>email</td>
                                <td>email</td>
                            </tr>
                            <tr>
                                <td>adresse</td>
                                <td>Adresse</td>
                                <td>Address</td>
                            </tr>
                            <tr>
                                <td>accueil</td>
                                <td>plan d’accès</td>
                                <td>find Us</td>
                            </tr>
                            <tr>
                                <td>cp</td>
                                <td>Code Postal</td>
                                <td>Zip</td>
                            </tr>
                            <tr>
                                <td>ville</td>
                                <td>Ville</td>
                                <td>City</td>
                            </tr>
                            <tr>
                                <td>valide</td>
                                <td>Valider</td>
                                <td>Sign in</td>
                            </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
                <p><strong>b</strong> - Modifiez le formulaire, puis le contrôleur pour qu'ils prennent en compte le changement de langue.
                    <br><strong>c</strong> - Rajoutez <code>echo $selected;</code> dans le case <code>contact</code> du contrôleur.
                Lancez l'application en passant en Anglais, puis en cliquant sur "Contact us". Que constatez vous ?</p>

            </section>
        </div>
        <span class="text-end">
                    <a href="#bdNavbar" id="backToTopBtn" style="font-size: 2rem; color: cornflowerblue;"><i
                            class="bi bi-chevron-up"></i> </a>
        </span>
    </main>
</div>
<script src="../dist/5.0/js/bootstrap.bundle.min.js"></script>
<script src="../dist/5.0/js/docs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.js"
        data-autoloader-path="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/"></script>

</body>
</html>