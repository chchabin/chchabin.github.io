<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="../dist/5.0/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="../dist/5.0/css/docs.css" rel="stylesheet">
    <link href="../dist/5.0/bootstrap-icons/bootstrap-icons-1.2.2/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism.css">
    <link rel="icon" type="image/png"  href="../img/favicon.png">
    <title>PHP TP02</title>

</head>
<body>

<!--        navbar-->
<header class="navbar navbar-expand-md navbar-dark bd-navbar bg-success">
    <nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation">
        <div class="collapse navbar-collapse" id="bdNavbar">
            <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-md-0">
                <li class="nav-item">
                    <a class="nav-link " href="tp01htmlPhpNew.html">TP PHP</a>

                <li class="nav-item">
                    <a class="nav-link " href="index.html">Documentation</a>

            </ul>
        </div>
    </nav>
</header>
<nav class="bd-subnavbar py-2" aria-label="Secondary navigation"></nav>
<div class="container-xxl my-md-4 bd-layout">
    <!--    Menu Gauche-->
    <aside class="bd-sidebar">
        <nav class="collapse bd-links" id="bd-docs-nav" aria-label="Docs navigation">
            <ul class="list-unstyled mb-0 py-3 pt-md-1">
               <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start justify-content-start" data-bs-toggle="collapse" data-bs-target="#php01Gintroduction" aria-expanded="false">
                        I - Introduction au développement Web
                    </button>
                    <div class="collapse" id="php01Gintroduction">
                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="php01Gintroduction.html#foncweb">
                                    Principes de fonctionnement du Web
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start"
                            data-bs-toggle="collapse" data-bs-target="#php02Gbaseslg" aria-expanded="false">
                        II - Les bases du langage
                    </button>
                    <div class="collapse" id="php02Gbaseslg">

                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li><a class="d-inline-flex align-items-center rounded active"
                                   href="php02Gbaseslg.html">Les bases du langage
                            </a></li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start"
                            data-bs-toggle="collapse" data-bs-target="#php031ProgPhp_Variables" aria-expanded="false">
                        III - Programmer avec PHP
                    </button>
                    <div class="collapse" id="php031ProgPhp_Variables">

                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php031ProgPhp_Variables.html">A - Les variables
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php032ProgPhp_Tests.html">B - Tests et conditions
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php033ProgPhp_Tableaux.html">C - Les tableaux
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php034ProgPhp_Boucles.html">D - Les boucles
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php035ProgPhp_Fonctions.html"> E - Les fonctions
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php036ProgPhp_Raccourcis.html"> F - Les raccourcis
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start"
                            data-bs-toggle="collapse" data-bs-target="#php041Transmission" aria-expanded="false">
                        IV - Transmettre des données entre des pages
                    </button>
                    <div class="collapse" id="php041Transmission">

                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php041Transmission.html">A - Notion de variable superglobale
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php042Transmission.html">B - Notion de formulaire
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php043Transmission.html">C - $_GET et la transmission via l'URL
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php044Transmission.html">D - $_POST et la transmission via un formulaire
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php045Transmission.html">E - $_SESSION et la transmission via la session
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php046Transmission.html">F - La transmission de données et sécurité
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start"
                            data-bs-toggle="collapse" data-bs-target="#php05AccesSGBD_Introduction"
                            aria-expanded="false">
                        V - Accéder à une base de données
                    </button>
                    <div class="collapse" id="php05AccesSGBD_Introduction">

                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_Introduction.html"> A - Introduction
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_Connexion.html">B - Connexion à la base de données
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_RappelSQL.html">C - Rappel SQL avec SELECT
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_RqtSimple.html">D - query - Requêtes simples
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_RqtParam.html">E - prepare et execute - Requêtes avec paramètres
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="php05AccesSGBD_RqtLMD.html">F - Le cas particulier avec INSERT, UPDATE,
                                    DELETE et exec</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1 active">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start justify-content-start"
                            data-bs-toggle="collapse" data-bs-target="#phpTP" aria-expanded="true" aria-current="true">
                        TP - les bases du PHP
                    </button>
                    <div class="collapse show" id="phpTP">
                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="tp01htmlPhpNew.html">
                                    TP01 - Affichage, déclaration de variables, tableaux
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded active" href="tp02htmlPhpNew.html">
                                    TP02 - Tableaux, Boucles, formulaires
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="tp03htmlPhpNew.html">
                                    TP03 - Tableaux Associatifs, Boucles foreach
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="tp04htmlPhpNew.html">
                                    TP04 - Pattern MVC

                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="tp05htmlPhpNew.html">
                                    TP05 - Pattern MVC, Session

                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="tp06htmlPhpNew.html">
                                    TP06 - Pattern MVC, connexion à un SGBD
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn d-inline-flex align-items-center rounded collapsed text-start justify-content-start"
                            data-bs-toggle="collapse" data-bs-target="#phpEx" aria-expanded="false">
                        Exercices sur le MVC
                    </button>
                    <div class="collapse" id="phpEx">
                        <ul class="list-unstyled fw-normal pb-1 small">
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed" href="ex01htmlPhp.html">
                                    Ex01 - Modifier un site en fonction du pattern MVC
                                </a>
                            </li>
                            <li>
                                <a class="d-inline-flex align-items-center rounded collapsed"
                                   href="ex02htmlPhp.html">
                                    Ex02 - Création d'un contrôleur
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </nav>
    </aside>

    <main class="bd-main order-1">
        <!--            Titre-->
        <div class="bd-intro ps-lg-4">
            <div class="d-md-flex flex-md-row align-items-center justify-content-between">
                <h1 class="bd-title" id="content">TP02 - Tableaux, Boucles, formulaires  (2/6)</h1>
            </div>
            <div class="bd-callout bd-callout-info">
                <h4 class="text-info">Objectif</h4>
                <p>Rendre le menu dynamique : l'utilisateur chois sa langue.</p>
            </div>
            <hr class="my-4">
        </div>
        <!--            Menu droite-->
        <div class="bd-toc mt-4 mb-5 my-md-0 ps-xl-3 mb-lg-5 text-muted">
            <strong class="d-block h6 my-2 pb-2 border-bottom">Dans cette page</strong>
            <nav id="TableOfContents">
                <ul>
                    <li><a href="#prerequis">Prérequis</a></li>
                    <li><a href="#ex1">Exercice 1 - Création du formulaire</a></li>
                    <li><a href="#reponse">Exercice 2 - Récupération des valeurs du formulaire</a></li>
                    <li><a href="#utilisation">Exercice 3 - Utilisation des valeurs récupérées</a></li>
                </ul>
            </nav>
        </div>
        <!--            Docs-->
        <div class="bd-content ps-lg-4">
            <section>

                <div class="bd-callout bd-callout-danger">
                    <h4 class="text-danger">Attention</h4>
                    <p>Ne remplissez pas le rapport sur votre navigateur , vous ne pourrez pas le sauvegarder.</p>
                    <p>Téléchargez le sur votre disque dur !</p>
                </div>
                <div class="list-group-flush">
                    <a class="list-group-item list-group-item-action " href="../download/phpTP02rapport.pdf"
                       target="_blank"><i class="bi bi-cloud-download-fill"></i> Format du rapport à télécharger</a>
                    <a class="list-group-item list-group-item-action "
                       href="https://tutowebdesign.com/bien-demarrer-bootstrap-4.php" target="_blank"><i
                            class="bi bi-patch-question"></i> Tuto Bootstrap 4 (rien de pertinent sur bootstrap 5 en ce
                        moment) </a>
                    <a class="list-group-item list-group-item-action " href="../download/AideMemoirePHP.pdf"
                       target="_blank"><i class="bi bi-patch-question"></i> Aide mémoire PHP</a>
                    <a class="list-group-item list-group-item-action "
                       href="http://boraklerouge.free.fr/PHP-AideMemoire/" target="_blank"><i
                            class="bi bi-patch-question"></i> Aide mémoire PHP</a>
                    <a class="list-group-item list-group-item-action "
                       href="php033ProgPhp_Tableaux.html#tableauSimple" target="_blank"><i
                            class="bi bi-patch-question"></i> Cours sur les tableaux PHP</a>
                </div>
            </section>
            <h2 id="prerequis">Prérequis</h2>
            <section>
                <h4 class="text-info">Avant de commencer</h4>
                <ul class="list-group-flush">
                    <li class="list-group-item list-group-item-action "><i class="bi bi-folder"></i> Créez un répertoire
                        TP02
                    </li>
                    <li class="list-group-item list-group-item-action "><i class="bi bi-clipboard"></i> Copiez collez le
                        fichier TPMenu.php du repertoire TP01
                    </li>
                </ul>
                <div class="bd-callout bd-callout-danger">
                    <h4 class="text-danger">Attention</h4>
                    <p>Vérifiez bien que vous êtes en UTF8.</p>
                </div>
            </section>
            <h2 id="ex1">Exercice 1 - Création du formulaire</h2>
            <section>
                <p>Modifiez votre code dans TPMenu.php de façon à obtenir le code suivant :</p>
                <div class="highlight">
                    <pre><code class="language-php" data-lang="php">&lt;nav class="navbar navbar-expand-lg navbar-light bg-light"&gt;
    &lt;ul class="navbar-nav"&gt;
        &lt;?php
        for ($i= 0; $i &lt; count($lang)-1; $i++) { ?&gt;
        &lt;li&gt;&lt;a class="nav-link" href="#" &gt;&lt;?php echo ucfirst($lang[$i]);?&gt;&lt;/a&gt;&lt;/li&gt;
        &lt;?php } //fin de la boucle ?&gt;
    &lt;/ul&gt;
    &lt;form class="d-flex"&gt;
        &lt;select class="form-select" aria-label="Default select example" name="langue"&gt;
            &lt;option selected&gt;&lt;?= $lang[count($lang)-1];?&gt;&lt;/option&gt;
            &lt;option value="1"&gt;Français&lt;/option&gt;
            &lt;option value="2"&gt;Anglais&lt;/option&gt;
        &lt;/select&gt;
        &lt;button class="btn btn-outline-success" type="submit"&gt;Search&lt;/button&gt;
    &lt;/form&gt;
&lt;/nav&gt;</code></pre>
                <div class="bd-callout bd-callout-info bg-secondary text-white">
                    <h4>Résultat</h4>
                    <p>Lancez TPMenu.php pour voir si tout fonctionne. Vous devez obtenir ceci :</p>
                    <img src="images/TP/menuForm.PNG" class="img-fluid" alt="menuAccueil">
                </div>
                <div class="bd-callout bd-callout-warning bg-warning">
                    <h4><i class="bi bi-cone-striped"></i> En vous aidant de la documentation php répondez aux questions suivantes :</h4>
                    <div class="list-group-flush">
                    <a class="list-group-item list-group-item-action " href="php042Transmission.html#formulaire"
                       target="_blank"><i class="bi bi-compass"></i> Les Formulaires</a>
                </div>
                <ol>
                    <li>A quoi sert la balise <code>form</code> ?</li>
                    <li>Que fait la balise <code>select</code> ?</li>
                    <li>A quoi correspond <code>option selected</code> ?</li>
                    <li>Pourquoi c'est le mot langue qui est affiché en premier dans la sélection sur la barre de
                        navigation ?
                    </li>
                    <li>Si vous cliquez sur le bouton quel est le changement obtenu dans <code>l'URL</code> ?</li>
                    <li>Après avoir choisi Français, quel est le changement obtenu dans <code>l'URL</code> ?</li>
                    <li>Après avoir choisi Anglais, quel est le changement obtenu dans <code>l'URL</code> ?</li>
                    <li>En vous aidant de la balise <code>option</code> justifiez sz la valeur respective de 1 ou 2,
                        obtenus dans l'URL ?
                    </li>
                </ol>
                </div>
            </section>
            <h2 id="reponse">Exercice 2 - Récupération des valeurs du formulaire</h2>
            <section>
                <p>Vous allez modifier les attributs du formulaire pour qu'il puisse renvoyer quelque chose. Vous
                    obtenez :</p>
                <div class="highlight">
                    <pre><code class="language-php" data-lang="php">&lt;nav class="navbar navbar-expand-lg navbar-light bg-light"&gt;
    &lt;ul class="navbar-nav"&gt;
        &lt;?php
        for ($i= 0; $i &lt; count($lang)-1; $i++) { ?&gt;
        &lt;li&gt;&lt;a class="nav-link" href="#" &gt;&lt;?php echo ucfirst($lang[$i]);?&gt;&lt;/a&gt;&lt;/li&gt;
        &lt;?php } //fin de la boucle ?&gt;
    &lt;/ul&gt;
    &lt;form class="d-flex" method="post" action="TPreponse.php"&gt;
        &lt;select class="form-select" aria-label="Default select example" name="langue"&gt;
            &lt;option selected&gt;&lt;?= $lang[count($lang)-1];?&gt;&lt;/option&gt;
            &lt;option value="1"&gt;Français&lt;/option&gt;
            &lt;option value="2"&gt;Anglais&lt;/option&gt;
        &lt;/select&gt;
        &lt;button class="btn btn-outline-success" type="submit"&gt;Search&lt;/button&gt;
    &lt;/form&gt;
&lt;/nav&gt;</code></pre>
                <p>Ensuite créez une page <code>TPreponse.php</code>, dans laquelle vous mettrez le code : </p>
                <div class="highlight">
                    <pre><code class="language-php" data-lang="php">&lt?php
var_dump($_REQUEST);</code></pre>

                <div class="bd-callout bd-callout-info bg-secondary text-white">
                    <h4>Résultat</h4>
                    <p>
                        Si vous sélectionnez Français vous obtenez :
                        <br><span class="text-white-50">array(1) { ["langue"]=> string(1) "1" }</span>
                        <br>Si vous sélectionnez Anglais vous obtenez :
                        <br><span class="text-white-50">array(1) { ["langue"]=> string(1) "2" }</span>
                    </p>
                </div>
                <div class="bd-callout bd-callout-warning bg-warning">
                    <h4><i class="bi bi-cone-striped"></i> En vous aidant de la documentation php répondez aux questions suivantes :</h4>
                    <div class="list-group-flush">
                    <a class="list-group-item list-group-item-action " href="php042Transmission.html#formulaire"
                       target="_blank"><i class="bi bi-compass"></i> Les Formulaires</a>
                </div>
                <ol>
                    <li>Que fait <code>var_dump</code> ?</li>
                    <li>A quoi correspond <code>$_REQUEST</code> ?</li>
                    <li>En vous aidant de l'URL, dans quelle page est affichée la ligne suivante :<code>array(1) {
                        ["langue"]=> string(1) "1" }</code> ?
                    </li>
                    <li>A quoi correspond l'attribut <code>method</code> ?</li>
                    <li>A quoi correspond l'attribut <code>action</code> ?</li>
                </ol>
                </div>
                <p>Modifiez votre code dans <code>TPreponse.php</code> pour obtenir :</p>
                <div class="highlight">
                    <pre><code class="language-php" data-lang="php">&lt?php
var_dump($_REQUEST);
echo '&ltbr&gt';
echo $_REQUEST['langue'];</code></pre>
                <div class="bd-callout bd-callout-info bg-secondary text-white">
                    <h4>Résultat</h4>
                    <p>
                        <br>Si vous sélectionnez Anglais vous obtenez :
                        <br><span class="text-white-50">array(1) { ["langue"]=> string(1) "2" }
                        <br>2</span>
                    </p>
                </div>
                <div class="bd-callout bd-callout-warning bg-warning">
                    <h4><i class="bi bi-cone-striped"></i> En vous aidant de la documentation php répondez aux questions suivantes :</h4>
                    <div class="list-group-flush">
                    <a class="list-group-item list-group-item-action " href="php031ProgPhp_Variables.html"
                       target="_blank"><i class="bi bi-compass"></i> Les Variables</a>
                </div>
                <ol>
                    <li>A quel type de variable correspond <code>["langue"]</code> ?</li>
                    <li>A quel type de variable correspond <code>$_REQUEST</code> ?</li>
                    <li>Que signifie dans notre cas <code>=></code> ?</li>
                </ol>
                </div>
            </section>
            <h2 id="utilisation">Exercice 3 - Utilisation des valeurs récupérées</h2>
            <section>
                <p>Voua allez faire plusieurs changements, tou d'abord au niveau de la balise <code>php</code> modifiez
                    le code de la façon suivante :</p>
                <div class="highlight">
                    <pre><code class="language-php" data-lang="php">&lt?php
$menu01 = ["accueil", "nos produits", "nous contacter", "plan d’accès", "qui sommes nous ?", "langage"];
$menu02 = ["home", "products", ""];
//test du $_REQUEST
if (!isset($_REQUEST)) {
    $lang = $menu01;
    $selected = $lang[count($lang) - 1];
} elseif ($_REQUEST['langue'] === "1") {
    $lang = $menu01;
    $selected = 'Français';
} else {
    $lang = $menu02;
    $selected = 'Anglais';
};
?&gt</code></pre>
                <p>Ensuite au niveau du formulaire, modifiez le code comme suit :</p>
                <div class="highlight">
                    <pre><code class="language-php" data-lang="php">&ltform class="d-flex" method="post" action="TPMenu.php"&gt
        &ltselect class="form-select" aria-label="Default select example" name="langue"&gt
            &ltoption selected&gt&lt?= $selected; ?&gt&lt/option&gt
            &ltoption value="1"&gtFrançais&lt/option&gt
            &ltoption value="2"&gtAnglais&lt/option&gt
        &lt/select&gt
        &ltbutton class="btn btn-outline-success" type="submit"&gtSearch&lt/button&gt
    &lt/form&gt</code></pre>
                <div class="bd-callout bd-callout-info bg-secondary text-white">
                    <h4>Résultat</h4>
                    <p>
                        Si vous choisissez anglais , la barre de navigation est en anglais, si vous choisissez français,
                        elle est en français.
                    </p>
                </div>
                <div class="bd-callout bd-callout-warning bg-warning">
                    <h4><i class="bi bi-cone-striped"></i> En vous aidant de la documentation php répondez aux questions suivantes :</h4>
                <ol>
                    <li>Quel service rend l'instruction <code>isset</code> ?</li>
                    <li>Pourquoi dans le test if nous avons <code>"1"</code> et pas <code>1</code> ?</li>
                    <li>Quel est l'intérêt d'avoir mis une variable selected dans la balise option selected ?</li>
                </ol>
                </div>
            </section>
        </div>
        <span class="text-end">
                    <a href="#bdNavbar" id="backToTopBtn" style="font-size: 2rem; color: cornflowerblue;"><i
                            class="bi bi-chevron-up"></i> </a>
        </span>
    </main>
</div>
<script src="../dist/5.0/js/bootstrap.bundle.min.js"></script>
<script src="../dist/5.0/js/docs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.js"
        data-autoloader-path="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/"></script>

</body>
</html>